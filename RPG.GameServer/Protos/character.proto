syntax = "proto3";
option csharp_namespace = "RPG.GameServer.Protos";
package rpg;

enum CharacterType {
  PLAYER = 0;
  FRIENDLY_NPC = 1;
  HOSTILE_NPC = 2;
}

enum ItemType {
  WEAPON = 0;
  ARMOR = 1;
  CONSUMABLE = 2;
  QUEST_ITEM = 3;
}

message Stats {
  int32 strength = 1;
  int32 dexterity = 2;
  int32 intelligence = 3;
  int32 vitality = 4;
  int32 wisdom = 5;
  int32 charisma = 6;
}

message Location {
  float x = 1;
  float y = 2;
  float z = 3;
}

message Item {
  string id = 1;
  string name = 2;
  ItemType type = 3;
  int32 value = 4;
  Stats stats = 5;
  bool IsEquipped = 6;
}

message Character {
  string id = 1;
  string name = 2;
  string class = 3;
  int32 level = 4;
  int32 health = 5;
  int32 mana = 6;
  CharacterType type = 7;
  Stats stats = 8;
  Location location = 9;
  repeated Item inventory = 10;
  map<string, Item> equipment = 11;
}

message CreateCharacterRequest {
  string name = 1;
  string class = 2;
  CharacterType type = 3;
  Stats stats = 4;
}

message CharacterIdRequest {
  string id = 1;
}

message UpdateCharacterRequest {
  string id = 1;
  int32 level = 2;
  int32 health = 3;
  int32 mana = 4;
  Stats stats = 5;
}

message MoveCharacterRequest {
  string id = 1;
  float deltaX = 2;
  float deltaY = 3;
  float deltaZ = 4;
}

message EquipItemRequest {
  string characterId = 1;
  string itemId = 2;
  string slot = 3;
}

message UnequipItemRequest {
  string characterId = 1;
  string slot = 2;
}

message CharacterReply {
  Character character = 1;
}

message DeleteReply {
  bool success = 1;
}

service CharacterService {
  rpc CreateCharacter (CreateCharacterRequest) returns (CharacterReply);
  rpc GetCharacter (CharacterIdRequest) returns (CharacterReply);
  rpc UpdateCharacter (UpdateCharacterRequest) returns (CharacterReply);
  rpc MoveCharacter (MoveCharacterRequest) returns (CharacterReply);
  rpc EquipItem (EquipItemRequest) returns (CharacterReply);
  rpc UnequipItem (UnequipItemRequest) returns (CharacterReply);
  rpc DeleteCharacter (CharacterIdRequest) returns (DeleteReply);
}